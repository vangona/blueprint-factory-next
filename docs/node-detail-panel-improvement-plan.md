# 목표 세부 정보 모달 개선 기획서

## 1. 현재 상황 분석

### 1.1 현재 NodeDetailPanel 분석

**기존 기능:**
- 제목, 설명, 진행률, 우선순위, 마감일, 완료 상태, 태그 편집
- 읽기 전용/편집 모드 구분
- 기본적인 폼 유효성 검사

**현재 문제점:**
1. **권한 제어 부재**: 모든 사용자가 편집 가능 (갤러리에서도)
2. **UX 일관성 부족**: 다른 컴포넌트와 시각적 일관성 부족
3. **기능 부족**: 
   - 목표 간 연결 관계 표시 없음
   - 히스토리/변경 기록 없음
   - 첨부파일 기능 없음
   - 하위 목표 추가 기능 부족
4. **정보 부족**: 
   - 생성/수정 일시 표시 없음
   - 작성자 정보 없음
   - 상위/하위 목표 연결 정보 없음
5. **모바일 최적화 부족**: 작은 화면에서 사용성 저하

## 2. 개선 목표 및 우선순위

### 2.1 핵심 개선 목표
1. **권한 기반 접근 제어**: 소유자만 편집 가능
2. **관계성 시각화**: 상위/하위 목표 연결 정보 표시
3. **사용자 경험 개선**: 직관적이고 일관된 인터페이스
4. **정보 풍부화**: 메타데이터 및 맥락 정보 추가

### 2.2 우선순위 분류

**High Priority (즉시 구현):**
- 권한 제어 시스템 적용
- 상위/하위 목표 연결 정보 표시
- 작성자 정보 및 메타데이터 추가
- 읽기 전용 모드 UI 개선

**Medium Priority (1-2주 내):**
- 목표 간 이동 네비게이션
- 진행률 히스토리 표시
- 하위 목표 빠른 추가 기능
- 모바일 반응형 개선

**Low Priority (필요시 구현):**
- 첨부파일 기능
- 댓글/노트 기능
- 변경 기록 로그
- 목표 템플릿 기능

## 3. 세부 개선 사항

### 3.1 권한 제어 시스템

```typescript
interface NodeDetailPermissions {
  canView: boolean;
  canEdit: boolean;
  canDelete: boolean;
  canComment: boolean;
}

// 권한별 UI 차별화
- 읽기 전용: 회색 배경, 편집 불가 표시
- 편집 가능: 파란색 강조, 편집 아이콘 표시
- 소유자: 추가 관리 기능 (삭제, 이동 등)
```

### 3.2 관계성 정보 표시

**상위 목표 경로 표시:**
```
🌟 기술로 가치 창출하기 > 🎯 시니어 개발자 & 테크리드 > 📅 현재 목표
```

**하위 목표 미리보기:**
- 직접 연결된 하위 목표 3개까지 카드 형태로 표시
- "더 보기" 버튼으로 전체 하위 목표 확장

**관련 목표 추천:**
- 같은 태그를 가진 목표
- 비슷한 진행률의 목표
- 같은 카테고리의 목표

### 3.3 메타데이터 정보 추가

**기본 정보:**
- 작성자 정보 (아바타, 이름, 역할)
- 생성일시 / 최종 수정일시
- 목표 고유 ID (공유용)

**통계 정보:**
- 예상 소요 시간 / 실제 소요 시간
- 하위 목표 개수 및 완료율
- 관련 파일/링크 개수

### 3.4 진행률 및 완료 관리 개선

**진행률 시각화:**
- 원형 진행률 표시 (도넛 차트)
- 하위 목표 기반 자동 진행률 계산
- 일일/주간/월간 진행률 변화 미니 차트

**완료 기준 설정:**
- 체크리스트 형태의 완료 조건
- 자동 완료 트리거 설정
- 완료 시 축하 애니메이션

### 3.5 UX/UI 개선사항

**레이아웃 개선:**
- 탭 구조로 정보 분류 (기본정보 / 관계 / 진행상황 / 히스토리)
- 스크롤 최적화로 긴 내용 처리
- 키보드 단축키 지원 (ESC, Enter, Tab)

**시각적 일관성:**
- 청사진 제작소 브랜드 컬러 적용
- 아이콘 통일성 확보
- 그라데이션 및 그림자 효과 일관성

**접근성 개선:**
- 스크린 리더 지원
- 키보드 내비게이션
- 고대비 모드 지원

### 3.6 인터랙션 개선

**빠른 액션:**
- 더블클릭으로 빠른 편집
- 우클릭 컨텍스트 메뉴
- 드래그로 진행률 조정

**실시간 업데이트:**
- 진행률 변경 시 즉시 캔버스에 반영
- 저장 없이 실시간 미리보기
- 변경사항 자동 저장 (Draft 모드)

## 4. 구현 단계별 계획

### 4.1 Phase 1: 기본 개선 (1주)

**목표**: 권한 제어 및 기본 정보 개선

**구현 항목:**
1. 권한 제어 시스템 적용
2. 작성자 정보 및 메타데이터 추가
3. 상위 목표 경로 표시 (breadcrumb)
4. 읽기 전용 모드 UI 개선

### 4.2 Phase 2: 관계성 강화 (1주)

**목표**: 목표 간 연결 관계 시각화

**구현 항목:**
1. 하위 목표 미리보기 카드
2. 관련 목표 추천 시스템
3. 목표 간 이동 네비게이션
4. 상위/하위 목표 빠른 추가 기능

### 4.3 Phase 3: 사용성 개선 (1주)

**목표**: 전반적인 UX 향상

**구현 항목:**
1. 탭 구조로 정보 분류
2. 진행률 시각화 개선 (도넛 차트)
3. 모바일 반응형 최적화
4. 키보드 단축키 및 접근성 개선

## 5. 기술적 고려사항

### 5.1 성능 최적화
- 대용량 하위 목표 리스트 가상화
- 이미지 최적화 및 lazy loading
- 메모이제이션을 통한 불필요한 리렌더링 방지

### 5.2 데이터 구조 개선
```typescript
interface EnhancedNodeData {
  // 기존 필드
  label: string;
  description: string;
  progress: number;
  priority: 'low' | 'medium' | 'high';
  
  // 새로운 필드
  authorId: string;
  createdAt: Date;
  updatedAt: Date;
  estimatedHours?: number;
  actualHours?: number;
  attachments?: Attachment[];
  comments?: Comment[];
  completionCriteria?: string[];
  dependencies?: string[]; // 의존성 목표 ID
}
```

### 5.3 상태 관리 개선
- 목표 간 관계 캐싱
- 실시간 업데이트 최적화
- 오프라인 모드 지원 (향후)

## 6. 예상 효과

### 6.1 사용자 경험 개선
- 권한 기반 명확한 역할 구분
- 목표 간 연결성 이해도 증가
- 편집 효율성 향상

### 6.2 서비스 가치 향상
- 갤러리 기능 보안성 확보
- 목표 관리 체계성 증대
- 사용자 참여도 증가

### 6.3 기술적 기반 마련
- 확장 가능한 권한 시스템
- 재사용 가능한 컴포넌트 구조
- 향후 기능 추가 용이성

## 7. 검증 방법

### 7.1 기능 테스트
- 권한별 접근 제어 정상 동작 확인
- 목표 간 관계 정보 정확성 검증
- 모든 편집 기능 정상 동작 확인

### 7.2 사용성 테스트
- 갤러리 방문자의 읽기 전용 모드 사용성
- 소유자의 편집 모드 효율성
- 모바일 환경에서의 사용성

### 7.3 성능 테스트
- 대용량 목표 데이터 처리 성능
- 모달 열기/닫기 반응성
- 메모리 사용량 최적화 확인

이 개선 계획을 통해 목표 세부 정보 모달이 단순한 편집 도구에서 목표 관리의 중심이 되는 강력한 인터페이스로 발전할 것입니다.